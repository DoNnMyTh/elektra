= content_for :title do
  - if @object.is_directory?
    Directory: #{@object.path}
  - else
    File: #{@object.path}

= simple_form_for @object, url: plugin('object_storage').update_object_path(@container_name, @object.path), method: :post, remote: request.xhr?, html: { data: { modal: true } } do |f|
  %div{class: modal? ? 'modal-body' : ''}
    %table.table
      %tbody
        %tr
          %th Size
          %td= format_bytes(@object.size_bytes)
        %tr
          %th Last Modified
          -# TODO: format
          %td= @object.last_modified
        %tr
          %th Content type
          %td= @object.content_type
        %tr
          %th MD5 checksum
          %td= @object.md5_hash
        %tr
          %th Custom metadata
          %td= render partial: 'editable_metadata_display', locals: { metadata: @object.metadata }

    %div.buttons{class: modal? ? 'modal-footer' : ''}
      - if modal?
        %button.btn.btn-default{type:"button", data: { dismiss:"modal" }, aria: { label: "Cancel" }} Cancel
      - else
        = link_to "Cancel", plugin('object_storage').list_objects_path(@container_name, @object.path), class: 'btn btn-default'
      %button.btn.btn-primary{type: "submit", data: { disable_with: 'Please wait...'}} Update object
