%tr{id: "loadbalancer_#{loadbalancer.id}"}
  %td
    - if current_user.is_allowed?("loadbalancing:loadbalancer_get", {})
      = link_to loadbalancer.name, plugin('loadbalancing').loadbalancer_listeners_path(loadbalancer_id: loadbalancer.id)
    - else
      = loadbalancer.name
  %td= loadbalancer.description
  %td= loadbalancer.operating_status
  %td= loadbalancer.provisioning_status
  %td= loadbalancer.vip_address
  %td= loadbalancer.listeners.count

  %td.snug
    - if current_user.is_allowed?("loadbalancing:loadbalancer_delete", {})
      .btn-group
        %button.btn.btn-default.btn-sm.dropdown-toggle{ type: "button", data: { toggle: "dropdown"}, aria: { expanded: true} }
          %span.fa.fa-cog

        %ul.dropdown-menu.dropdown-menu-right{ role:"menu"}
          %li= link_to 'Show', plugin('loadbalancing').loadbalancer_path(id: loadbalancer.id), data: {modal: true}
          %li= link_to 'Edit', plugin('loadbalancing').edit_loadbalancer_path(id: loadbalancer.id), data: {modal: true}
          - if current_user.is_allowed?("loadbalancing:loadbalancer_delete", {})
            %li.divider
            %li= link_to 'Delete',
              plugin('loadbalancing').loadbalancer_path(id: loadbalancer.id),
              method: :delete,
              data: { confirm: 'Are you sure you want to delete this Load Balancer?',
                ok: "Yes, delete it",
                confirmed: :loading_status}


