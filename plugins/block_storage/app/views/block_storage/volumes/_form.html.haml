= simple_form_for @volume, url: plugin('block_storage').volumes_path, method: :post, remote: request.xhr?, html: {data: {modal: true} } do |f|

  %div{class: modal? ? 'modal-body' : ''}
    - unless @volume.errors["message"].blank?
      %p.alert.alert-error= @volume.errors.full_messages.to_sentence

    .row
      .col-md-6
        %fieldset
          = f.input :name
          = f.input :description

          = f.input :availability_zone, { label: "Availability zone",
            input_html:         {},
            as:                 :select,
            collection:         @availability_zones,
            required:           true}

          = f.input :size, { as: :integer, input_html: { min: '1' } }


  %div.buttons{class: modal? ? 'modal-footer' : ''}
    - if modal?
      %button.btn.btn-default{type:"button", data: {dismiss:"modal"}, aria: {label: "Cancel"}} Cancel
    - else
      = link_to "Cancel", volumes_url(), class: 'btn btn-default'
    %button{type: "submit", class: 'btn btn-primary', data: { disable_with: 'Please wait...'}} Create

