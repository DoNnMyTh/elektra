%tr
  %td= alarm_definition.name
  %td
    - if alarm_definition.severity == 'LOW' || alarm_definition.severity == 'MEDIUM'
      .text-warning= alarm_definition.severity.capitalize
    - elsif alarm_definition.severity == 'HIGH' || alarm_definition.severity == 'CRTIICAL'
      .text-danger= alarm_definition.severity.capitalize
    - else
      =alarm_definition.severity.capitalize
  %td= alarm_definition.description
  %td
    -# TODO: made it clickable to enable and disable actions_enabled directly in the table
    - if alarm_definition.actions_enabled
      = icon('check-square-o')
    - else
      = icon('square-o')
  %th.snug
    .btn-group
      %button.btn.btn-default.btn-sm.dropdown-toggle{ type: 'button', data: { toggle: 'dropdown' }, aria: { expanded: true } }
        %span.fa.fa-cog

      %ul.dropdown-menu.dropdown-menu-right{ role: 'menu' } 
        %li= link_to 'Show', plugin('monitoring').alarm_definition_path(alarm_definition.id), data: { modal: true }
        - if current_user.is_allowed?("monitoring:alarm_definition_update")
          %li= link_to 'Edit', plugin('monitoring').edit_alarm_definition_path(alarm_definition.id), data: { modal: true }
        - if current_user.is_allowed?("monitoring:alarm_definition_delete")
          %li= link_to 'Delete', plugin('monitoring').alarm_definition_path(alarm_definition.id), method: :delete, data: { confirm: "Are you sure?" }

