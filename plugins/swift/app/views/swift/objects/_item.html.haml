%tr
  %td
    - if object.is_directory?
      %span.glyphicon.glyphicon-folder-open
      = link_to object.basename, plugin('swift').list_objects_path(@container_name, object.path)
    - else
      %span.glyphicon.glyphicon-file
      = link_to object.basename, plugin('swift').download_object_path(@container_name, object.path, inline: 1)
  %td= object.size_bytes    # TODO: format
  %td= object.last_modified # TODO: format
  %td.snug
    - if object.is_directory?
      -# for dirs, render a hidden button to ensure consistent row height
      %button.btn.btn-default.btn-sm.invisible
        %span.glyphicon.glyphicon-cog
    - else
      .btn-group
        %button.btn.btn-default.btn-sm.dropdown-toggle{ type: 'button', data: { toggle: 'dropdown' }, aria: { expanded: true } }
          %span.glyphicon.glyphicon-cog

        %ul.dropdown-menu.dropdown-menu-right{ role: 'menu' }
          %li= link_to 'Download', plugin('swift').download_object_path(@container_name, object.path)
