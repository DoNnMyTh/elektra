= content_for :title do
  Automation details

.modal-body

  .flashes_area
    = render "automation/shared/flashes.html"

  .row
    .col-md-2.col-xs-2.col-md-offset-10.col-xs-offset-10.clearfix.automation-show-actions-bar
      = link_to plugin('automation').edit_automation_path(id: @automation.id), data: {modal: true}, class: 'btn btn-primary pull-right automation-show-actions' do
        %i.fa.fa-pencil
      = link_to plugin('automation').automation_path(id: @automation.id), class: 'btn btn-danger pull-right automation-show-actions', :method => 'delete' do
        %i.fa.fa-trash

  .form-horizontal
    - form_horizontal_static_input('Name', @automation.name)
    - form_horizontal_static_input('Repository', @automation.repository)
    - form_horizontal_static_input('Repository version', @automation.repository_revision)
    - form_horizontal_static_input('Timeout', @automation.timeout)
    - form_horizontal_static_hash('Tags', @automation.tags)
    - form_horizontal_static_input('Type', @automation.type)

    - if @automation.type == ::Automation::Automation::Types::CHEF
      - form_horizontal_static_array('Runlist', @automation.run_list)
      - form_horizontal_static_input('Attributes', @automation.chef_attributes)
      - form_horizontal_static_input('Log level', @automation.log_level)
    - elsif @automation.type == ::Automation::Automation::Types::SCRIPT
      - form_horizontal_static_input('Path', @automation.path)
      - form_horizontal_static_array('Arguments', @automation.arguments)
      - form_horizontal_static_hash('Environment', @automation.environment)


  %div.buttons{class: modal? ? 'modal-footer' : ''}
    - if modal?
      %button.btn.btn-default{type:"button", data: {dismiss:"modal"}, aria: {label: "Cancel"}} Close
    - else
      = link_to "Close", plugin('automation').automations_path(), class: 'btn btn-default'