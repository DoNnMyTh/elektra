%table.table.resource-details
  %thead
    %tr
      %th Project
      %th.sortable#approved_quota_row
        Approved Quota
        = icon 'sort-amount-asc'
      %th.sortable#current_quota_row
        Current Quota
        = icon 'sort-amount-asc'
      %th.sortable#usage_row
        Usage
        = icon 'sort-amount-asc'
      %th Actions
  %tbody
    - @projects.each do |project_resource|
      = render :partial => 'details_table_row', :locals => { :project_resource => project_resource }
  
= paginate @projects, :theme => 'twitter-bootstrap-3', :remote => true

= content_for :javascripts do
  :javascript
    #{render partial: 'details_table_script.js', locals: { scope: 'admin'} }
    $(function() {
      $( ".sortable" ).click(function() {
        var sort_icon = $(this).find('i');
        console.log(sort_icon);
        if ( sort_icon.hasClass('fa-sort-amount-asc' )) {
          sort_icon.removeClass( 'fa-sort-amount-asc' );
          sort_icon.addClass( 'fa-sort-amount-desc' );
        } else {
          sort_icon.addClass( 'fa-sort-amount-asc' );
          sort_icon.removeClass( 'fa-sort-amount-desc' );
        }
      });
    });
